<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">
      
<!-- Login -->
<h:panelGroup rendered="#{!authenticationController.authenticated}" >
<link type="text/css" href="${request.contextPath}/css/ui-lightness/jquery-ui-1.7.2.custom.css" rel="Stylesheet" />	
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script type="text/javascript" src="${request.contextPath}/js/jquery-ui-1.7.2.custom.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
jQuery.noConflict();

jQuery(document).ready(
	function($) {
		$("#saveSessiondialog").hide();
		jQuery("#blank").hide();
	}
)

function isSaveSession() {
	jQuery("#saveSessiondialog").dialog({
		resizable: false,
		height:140,
		modal: true,
		buttons: {
			'Save': function() {
				jQuery(this).dialog('close');
				jQuery("#loginForm:saveSession").val(true);
				jQuery("#blank").show();
				jQuery("#loginForm:submitLogin").click();
				
			},
			'Not Save': function() {
				jQuery(this).dialog('close');
				jQuery("#loginForm:saveSession").val(false);
				jQuery("#loginForm:submitLogin").trigger('click');
			}
		}
	});
}	
/* ]]> */
</script>
<h:form id="loginForm">
<div id="saveSessiondialog" title="Save Login Session?">
	<p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;" />Keep me signed in this computer<br />! Do not save if on a shared computer</p>
</div>
<table width="151" height="123" border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td colspan="5" background="#{languageController.imagesPath}/login_01.gif" width="151" height="10"></td>
	</tr>
	<tr>
		<td rowspan="6" background="#{languageController.imagesPath}/login_02.gif" width="9px"></td>
		<td colspan="3"><img src="#{languageController.imagesPath}/login_03.gif" width="137" height="15" alt="" /></td>
		<td rowspan="6" background="#{languageController.imagesPath}/login_04.gif" width="5px"></td>			
	</tr>
	<tr>
		<td colspan="3" background="#{languageController.imagesPath}/login_05.gif" width="137" height="28"
		><h:inputText id="inputUserId" maxlength="20" value="#{authenticationController.inputUserId}" style="width: 130px; height: 18px; font-size:14px;" 
		/><br /><h:message for="inputUserId" styleClass="error" /></td>
  	</tr>
	<tr>
		<td colspan="3" background="#{languageController.imagesPath}/login_06.gif" width="137" height="14">&nbsp;</td>
	</tr>
	<tr>
		<td colspan="3" background="#{languageController.imagesPath}/login_07.gif" width="137" height="26"
		><h:inputSecret id="inputPassword" maxlength="20" styleClass="field" value="#{authenticationController.inputPassword}" style="width: 130px; height: 18px; font-size:12px; font-weight:normal;" 
		/><br /><h:message for="inputPassword" styleClass="error" /></td>
  	</tr>
  	<tr>
  		<td colspan="3" background="#{languageController.imagesPath}/login_07.gif" width="137" style="color: #FFFFFF; padding-left: 0px;">
  			<h:selectBooleanCheckbox value="#{authenticationController.saveSession}" />#{generalMsg.rememberMe}</td>
  	</tr>
	<tr>
		<td><h:link outcome="/public/signup"><img src="#{languageController.imagesPath}/login_08.gif" width="62" height="20"  border="0" /></h:link></td>
		<td><img src="#{languageController.imagesPath}/login_09.gif" width="28" height="20" /></td>
		<td><h:commandLink action="#{authenticationController.login}"><img src="#{languageController.imagesPath}/login_10.gif" width="47" height="20"  border="0" /></h:commandLink></td>
	</tr>
	<tr>
		<td colspan="5"><img src="#{languageController.imagesPath}/login_11.gif" width="151" height="10" /></td>
	</tr>
</table>
</h:form>
</h:panelGroup>

<h:panelGroup rendered="#{authenticationController.authenticated}">
<h:form>
<table width="151" border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td colspan="5" background="#{languageController.imagesPath}/login_01.gif" width="151" height="10"></td>
	</tr>
	<tr>
		<td rowspan="3" background="#{languageController.imagesPath}/login_02.gif" width="9">
		</td>
		<td colspan="3">
			<img src="#{languageController.imagesPath}/login_03.gif" width="137" height="15" /></td>
		<td rowspan="3" background="#{languageController.imagesPath}/login_04.gif" width="5">
		</td>
	</tr>
	<tr>
		<td width="137" colspan="3" align="center" background="#{languageController.imagesPath}/login_05.gif" class="username" >
			<h:outputText value="#{userSession.member.name}" /></td>
	</tr>	
	<tr>
		<td><img src="#{languageController.imagesPath}/logout_08.gif" width="62" height="20" /></td>
		<td>
			<img src="#{languageController.imagesPath}/login_09.gif" width="28" height="20" /></td>
		<td>
			<h:commandLink action="#{authenticationController.logout}"><img src="#{languageController.imagesPath}/logout_10.gif" width="47" height="20" border="0"/></h:commandLink></td>
	</tr>
	<tr>
		<td colspan="5">
			<img src="#{languageController.imagesPath}/login_11.gif" width="151" height="10" /></td>
	</tr>
</table>
</h:form>
</h:panelGroup>
</ui:composition>